<!DOCTYPE html>
<html>
<head>
	<title>Lista de Usernames do Firebase</title>
	<style>
		/* Estilos para o corpo da página */
		body {
			font-family: Arial, sans-serif;
			margin: 0;
			padding: 0;
		}

		/* Estilos para o título da página */
		h1 {
			background-color: #333;
			height: auto;
			max-height: 150px;
            		width: auto;
           		max-width: 350px;
			color: #fff;
			padding: 10px;
			margin: 0;
		}

		/* Estilos para a lista de usernames */
		#usernames {
			height: auto;
			max-height: 150px;
            		width: auto;
           		max-width: 350px;
			overflow-y: auto;
			padding: 0;
			margin: 0;
			list-style: none;
		}

		#usernames li {
			padding: 10px;
			border-bottom: 1px solid #ccc;
			cursor: pointer;
		}
	</style>
</head>
<body>
	<h1>Selecione o username<br>para emprestar dinheiro</h1>
	<ul id="usernames"></ul>

	<script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-app.js"></script>
	<script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-auth.js"></script>
	<script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-database.js"></script>
	<script src="js/firebase.js"></script>
	
	
	<script>
  firebase.database().ref('users').orderByChild('username').once('value')
    .then(function(snapshot) {
      // Adicionar os usernames na lista
      var usernames = document.getElementById("usernames"); // Selecionar a lista HTML
      snapshot.forEach(function(childSnapshot) { // Loop pelos registros do Firebase
        var username = childSnapshot.val().username; // Recuperar o username do registro
        var pix = childSnapshot.val().pix; // Recuperar o pix do registro
        var recVal = childSnapshot.val().inf.receber.valor; // Recuperar o valor do registro
        var listItem = document.createElement("li"); // Criar um elemento de lista HTML
        listItem.innerHTML = username + "|" + recVal; // Adicionar o username e o valor na lista
        listItem.addEventListener('click', function() { // Adicionar um evento de clique no item da lista
          alert('O pix do usuário ' + username + ' é ' + pix); // Exibir um alerta com o pix do usuário
        });
        usernames.appendChild(listItem); // Adicionar o item na lista HTML
      });
      // Adicionar scroll se tiver mais que 5 usernames
      if (usernames.children.length > 5) { // Verificar se a lista possui mais de 5 itens
        usernames.style.height = "200px"; // Definir a altura da lista como 200px
        usernames.style.overflow = "auto"; // Adicionar a barra de rolagem
      }
    })
    .catch(function(error) {
      console.log(error); // Exibir um erro no console caso ocorra algum problema
    });
</script>




</body>
</html>
