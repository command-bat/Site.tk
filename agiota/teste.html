<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Gerar Código PIX</title>
</head>
<body>

  <button id="gerar-pix">Gerar código PIX</button>

  <canvas id="qrcode"></canvas>

  <script src="https://kazuhikoarase.github.io/qrcode-generator/js/qrcode.js"></script>
  <script src="gerador-pix.min.js"></script>
  <script>
    // Adicione um evento de clique ao botão "gerar-pix"
    document.getElementById("gerar-pix").addEventListener("click", function() {

      // Defina as informações que deseja utilizar para gerar o código PIX
      var chavePix = "12345678900"; // Substitua pela sua chave PIX (CPF, CNPJ, telefone ou e-mail)
      var valor = 100.00; // Substitua pelo valor que deseja utilizar na transação PIX
      var descricao = "Pagamento de Serviço"; // Substitua pela descrição da transação

      // Gere o código PIX utilizando a biblioteca "gerador-pix"
      var codigoPix = GeradorPix(pixConfig = {
        chave: chavePix,
        valor: valor,
        descricao: descricao
      });

      // Crie o elemento <canvas> que será usado para exibir o QR Code
      var canvas = document.getElementById("qrcode");

      // Configure o tamanho do QR Code
      var tamanhoQRCode = 256;

      // Crie o QR Code utilizando a biblioteca "qrcode-generator"
      var qr = qrcode(0, "M");
      qr.addData(codigoPix);
      qr.make();

      // Adicione o QR Code ao elemento <canvas>
      var qrCanvas = qr.createCanvas(tamanhoQRCode, tamanhoQRCode);
      canvas.getContext("2d").drawImage(qrCanvas, 0, 0);

      console.log(codigoPix);
    });
  </script>

</body>
</html>
